<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MaMiCo: MaMiCo</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">MaMiCo<span id="projectnumber">&#160;1.2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="doc-content">
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">MaMiCo </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_README"></a></p>
<p>The macro-micro-coupling tool for multiscale coupled molecular-continuum flow simulation.</p>
<h2><a class="anchor" id="autotoc_md0"></a>
Documentation</h2>
<p>* The source code documentation can be found <a href="https://hsu-hpc.github.io/MaMiCo/">here</a> * The unit test code coverage is <a href="https://hsu-hpc.github.io/MaMiCo/coverage/index.html">here</a></p>
<h2><a class="anchor" id="autotoc_md1"></a>
Requirements and optional dependencies</h2>
<p>To compile and execute MaMiCo on a linux system, you need at least: * a C++17 compiler installed (e.g. GCC 7 or newer) * CMake version &gt;= 3.0</p>
<p>Optional dependencies are: * <a href="https://www.open-mpi.org/">MPI</a>, highly recommended for parallel runs, e.g. on clusters. * <a href="http://eigen.tuxfamily.org/">Eigen 3</a>, a linear algebra library used for the POD noise filter. * <a href="https://pybind11.readthedocs.io/en/stable/">pybind11</a>, for the MaMiCo Python bindings. * <a href="https://develop.openfoam.com/Development/openfoam/blob/develop/doc/Build.md">OpenFOAM</a>, for coupling to CFD simulations with OpenFOAM. * <a href="https://precice.org/">preCICE</a>, for coupling with other solvers using the preCICE coupling library. * <a href="https://www.ls1-mardyn.de/home.html">ls1-MarDyn</a>, for coupling to MD simulations with ls1. * <a href="https://lammps.org/">LAMMPS</a>, for coupling to MD simulations with LAMMPS. * <a href="https://github.com/linux-test-project/lcov">LCOV</a> and <a href="https://gcc.gnu.org/">gcc</a>, for test code coverage analysis.</p>
<h2><a class="anchor" id="autotoc_md2"></a>
Build instructions</h2>
<p>* First clone this repository and create a new build directory: </p><pre class="fragment">  git clone git@github.com:HSU-HPC/MaMiCo.git
  cd MaMiCo
  mkdir build
  cd build
</pre><p> * If you don't have a github account or don't want to use it, you can alternatively use <code>git clone <a href="https://github.com/HSU-HPC/MaMiCo.git">https://github.com/HSU-HPC/MaMiCo.git</a></code> (read-only).</p>
<p>* Then initialise CMake in your build directory, pointing it to the root directory of the repository. (Note that on some older systems, the command may be named <code>cmake3</code> instead of <code>cmake</code>.) </p><pre class="fragment">  cmake ..
</pre><p>* This will configure the build system with default settings and generate makefiles in the build directory. Optionally, you might want to change the build configuration now: </p><pre class="fragment">  ccmake .
</pre><p>* Here you can enable optional dependencies, e.g. activate BUILD_WITH_MPI (default OFF), or modifiy which compiler and flags you want to use. When you are done, press the configure [c] and generate [g] keys. Now you can start the compilation: </p><pre class="fragment">  make
</pre><h3><a class="anchor" id="autotoc_md3"></a>
Additional instructions to build with ls1</h3>
<p>* After cloning the repository, initialize the ls1 submodule with </p><pre class="fragment">  git submodule init
  git submodule update
</pre><p>* Follow the instructions on the <a href="https://github.com/ls1mardyn/ls1-mardyn">ls1 repository</a> to build with cmake, however remember to enable the MAMICO_COUPLING flag, and provide the MaMiCo base directory in the MAMICO_SRC_DIR variable.</p>
<p>* Make MaMiCo as normal, choosing LS1_MARDYN as your MD library.</p>
<h3><a class="anchor" id="autotoc_md4"></a>
Additional instructions to build with LAMMPS</h3>
<p>1. <a href="https://docs.lammps.org/Install_git.html">Download the LAMMPS source code</a>, <a href="https://docs.lammps.org/Build_cmake.html">build it using CMake</a> with the option <code>-DBUILD_SHARED_LIBS=ON</code>, and install it using <code>make install</code>. <br  />
 2. Make LAMMPS available through pgk-config with <code>export PKG_CONFIG_PATH=/home/$(whoami)/.local/lib/pkgconfig</code>. 3. Create a symbolic link to the LAMMPS header files in the MaMiCo root folder using <code>ln -s &lt;path to LAMMPS&gt;/src &lt;path to MaMiCo&gt;/lammps</code></p>
<h2><a class="anchor" id="autotoc_md5"></a>
Input file construction and first runs</h2>
<p>* The build instructions have created an executable of the standard Couette flow test case, the file is called 'couette'. It expects an XML configuration file named 'couette.xml' in the current working directory. * An example simulation configuration file can be generated using <code>./mamico-cfg</code> in the <a href="./tools/">tools</a> folder. * Copy the generated 'couette.xml' file to your build folder. * The available options and features are explained <a href="https://github.com/HSU-HPC/MaMiCo/wiki/couette.xml">here</a>. <br  />
 (<em>Deprecated:</em> Some are also listed directly in the template file via XML comments, so that you can modify the configuration to suit your needs.) * Start the simulation by executing (sequential case) <code>./couette</code> or e.g. (MPI-parallel) <code>mpirun -n 8 ./couette</code>. * If you get the error message 'ERROR MoleculeService::MoleculeService: Could not open file CheckpointSimpleMD_10000_reflecting_0.checkpoint!', copy the file of the same name from the 'examples' folder into your build folder. * Depending on the configuration, you will obtain various output files in CSV, VTK or other formats.</p>
<h2><a class="anchor" id="autotoc_md6"></a>
Papers to cite</h2>
<p>* P. Jarmatz, P. Neumann: <a href="https://link.springer.com/chapter/10.1007/978-3-030-22747-0_34">MaMiCo: Parallel Noise Reduction for Multi-instance Molecular-Continuum Flow Simulation</a>, International Conference on Computational Science. Springer, Cham, 2019 * P. Neumann, X. Bian: <a href="https://doi.org/10.1016/j.cpc.2017.06.026">MaMiCo: Transient multi-instance molecular-continuum flow simulation on supercomputers</a>, Computer Physics Communications 220 (2017): 390-402 * P. Neumann, H. Flohr, R. Arora, P. Jarmatz: <a href="https://doi.org/10.1016/j.cpc.2015.10.029">MaMiCo: Software design for parallel molecular-continuum flow simulations</a> Computer Physics Communications 200 (2016): 324-335 </p>
</div></div><!-- PageDoc -->
<a href="doxygen_crawl.html"></a>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2
</small></address>
</div><!-- doc-content -->
</body>
</html>
